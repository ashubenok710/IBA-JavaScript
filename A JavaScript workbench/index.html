<!doctype html>
<script src="promise.js"></script>

<textarea id="code">return "hi";</textarea>
<button id="button">Run</button>
<pre id="output"></pre>

<script>
	// code
	var el = document.getElementById('code');
	var btn = document.getElementById('button');
	
	var myFunction = new Function("n", "return n");

	function addClickHandler(elem, arg1) {
    	elem.addEventListener('click', function(e) {    		
        	return myFunction(arg1);
    	}, false);
	}

	addClickHandler(btn,el.value);

/*
var multiply = new Function("x", "y", "return x * y");
function addClickHandler(elem, arg1, arg2) {
    elem.addEventListener('click', function(e) {
        return console.log(multiply(arg1, arg2));
    }, false);
}
addClickHandler(btn,6,7);
*/
</script>